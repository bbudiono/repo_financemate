import{j as e,T as s}from"./dashboard-89c4d88a.js";import{r as t}from"./react-vendor-29c1c3a2.js";const a=({userTier:a})=>{const[i,r]=t.useState([]),[o,n]=t.useState(!1),[c,l]=t.useState(null),[d,p]=t.useState(!1),[u,h]=t.useState({projectName:"",description:"",style:"corporate",duration:30,resolution:"1080p",voiceOver:!0,backgroundMusic:!0,captions:!0}),[m,j]=t.useState("all"),x=s[a].videoGeneration;t.useEffect((()=>{if(!x)return;const e=[{id:"proj-1",name:"Q4 Financial Summary",description:"Quarterly financial performance overview with charts and animations",style:"corporate",duration:90,resolution:"1080p",status:"completed",progress:100,createdAt:new Date(Date.now()-864e5),completedAt:new Date(Date.now()-36e5),outputUrl:"/videos/q4-summary.mp4",thumbnailUrl:"/thumbnails/q4-summary.jpg"},{id:"proj-2",name:"Product Demo Video",description:"Technical demonstration of key product features",style:"technical",duration:120,resolution:"4k",status:"processing",progress:65,createdAt:new Date(Date.now()-18e5)}];r(e)}),[x]);const v=t.useCallback((async e=>{if(e.preventDefault(),x&&u.projectName.trim()){n(!0);try{const e=await fetch("http://localhost:3001/api/agents/video/generate",{method:"POST",headers:{"Content-Type":"application/json","user-tier":a},body:JSON.stringify({project_name:u.projectName,description:u.description,style:u.style,duration:u.duration,resolution:u.resolution,options:{voice_over:u.voiceOver,background_music:u.backgroundMusic,captions:u.captions}})});if(!e.ok)throw new Error(`Video generation failed: ${e.statusText}`);const s={id:(await e.json()).projectId||`proj-${Date.now()}`,name:u.projectName,description:u.description,style:u.style,duration:u.duration,resolution:u.resolution,status:"processing",progress:5,createdAt:new Date};r((e=>[s,...e])),l(s),h({projectName:"",description:"",style:"corporate",duration:30,resolution:"1080p",voiceOver:!0,backgroundMusic:!0,captions:!0}),p(!1),g(s.id)}catch(s){alert("Video generation failed. Please try again.")}finally{n(!1)}}}),[x,u,a]),g=t.useCallback((e=>{let s=5;const t=setInterval((()=>{s+=15*Math.random()+5,s>=100?(s=100,clearInterval(t),r((s=>s.map((s=>s.id===e?{...s,status:"completed",progress:100,completedAt:new Date,outputUrl:`/videos/${e}.mp4`,thumbnailUrl:`/thumbnails/${e}.jpg`}:s))))):r((t=>t.map((t=>t.id===e?{...t,progress:Math.round(s)}:t))))}),2e3)}),[]),N=t.useCallback((async e=>{confirm("Are you sure you want to delete this project?")&&(r((s=>s.filter((s=>s.id!==e)))),c?.id===e&&l(null))}),[c]),b=t.useCallback((e=>{"completed"===e.status&&e.outputUrl&&alert(`Downloading: ${e.name}`)}),[]),f=i.filter((e=>"all"===m||e.status===m));return x?e.jsxs("div",{className:"video-generation-studio",children:[e.jsxs("div",{className:"studio-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("h2",{children:"🎬 Video Generation Studio"}),e.jsx("p",{children:"Create professional videos with AI-powered agent coordination"})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("div",{className:"filter-controls",children:e.jsxs("select",{value:m,onChange:e=>j(e.target.value),className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Projects"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"completed",children:"Completed"})]})}),e.jsx("button",{onClick:()=>p(!0),className:"new-project-button",disabled:o,children:"+ New Video Project"})]})]}),d&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"new-project-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Create New Video Project"}),e.jsx("button",{onClick:()=>p(!1),className:"close-button",children:"×"})]}),e.jsxs("form",{onSubmit:v,className:"project-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsx("label",{children:"Project Name"}),e.jsx("input",{type:"text",value:u.projectName,onChange:e=>h((s=>({...s,projectName:e.target.value}))),placeholder:"Enter project name",required:!0})]}),e.jsxs("div",{className:"form-row",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:u.description,onChange:e=>h((s=>({...s,description:e.target.value}))),placeholder:"Describe the video content and purpose",rows:3})]}),e.jsxs("div",{className:"form-row-group",children:[e.jsxs("div",{className:"form-row",children:[e.jsx("label",{children:"Style"}),e.jsxs("select",{value:u.style,onChange:e=>h((s=>({...s,style:e.target.value}))),children:[e.jsx("option",{value:"corporate",children:"Corporate"}),e.jsx("option",{value:"creative",children:"Creative"}),e.jsx("option",{value:"technical",children:"Technical"}),e.jsx("option",{value:"marketing",children:"Marketing"}),e.jsx("option",{value:"educational",children:"Educational"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsx("label",{children:"Duration (seconds)"}),e.jsx("input",{type:"number",value:u.duration,onChange:e=>h((s=>({...s,duration:Number(e.target.value)}))),min:15,max:300})]}),e.jsxs("div",{className:"form-row",children:[e.jsx("label",{children:"Resolution"}),e.jsxs("select",{value:u.resolution,onChange:e=>h((s=>({...s,resolution:e.target.value}))),children:[e.jsx("option",{value:"720p",children:"720p HD"}),e.jsx("option",{value:"1080p",children:"1080p Full HD"}),e.jsx("option",{value:"4k",children:"4K Ultra HD"})]})]})]}),e.jsxs("div",{className:"form-options",children:[e.jsxs("label",{className:"checkbox-option",children:[e.jsx("input",{type:"checkbox",checked:u.voiceOver,onChange:e=>h((s=>({...s,voiceOver:e.target.checked})))}),"AI Voice-Over"]}),e.jsxs("label",{className:"checkbox-option",children:[e.jsx("input",{type:"checkbox",checked:u.backgroundMusic,onChange:e=>h((s=>({...s,backgroundMusic:e.target.checked})))}),"Background Music"]}),e.jsxs("label",{className:"checkbox-option",children:[e.jsx("input",{type:"checkbox",checked:u.captions,onChange:e=>h((s=>({...s,captions:e.target.checked})))}),"Auto Captions"]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"cancel-button",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o||!u.projectName.trim(),className:"generate-button",children:o?"Starting Generation...":"Generate Video"})]})]})]})}),e.jsxs("div",{className:"projects-grid",children:[f.map((s=>e.jsxs("div",{className:`project-card ${s.status}`,children:[e.jsxs("div",{className:"project-thumbnail",children:[s.thumbnailUrl?e.jsx("img",{src:s.thumbnailUrl,alt:s.name}):e.jsx("div",{className:"thumbnail-placeholder",children:e.jsx("span",{children:"🎬"})}),"processing"===s.status&&e.jsxs("div",{className:"progress-overlay",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${s.progress}%`}})}),e.jsxs("span",{className:"progress-text",children:[s.progress,"%"]})]}),e.jsxs("div",{className:"project-status-badge",children:["completed"===s.status&&"✅","processing"===s.status&&"⏳","pending"===s.status&&"⏸️","failed"===s.status&&"❌"]})]}),e.jsxs("div",{className:"project-info",children:[e.jsx("h3",{className:"project-name",children:s.name}),e.jsx("p",{className:"project-description",children:s.description}),e.jsxs("div",{className:"project-details",children:[e.jsxs("span",{className:"detail-item",children:["🎨 ",s.style]}),e.jsxs("span",{className:"detail-item",children:["⏱️ ",s.duration,"s"]}),e.jsxs("span",{className:"detail-item",children:["📺 ",s.resolution]})]}),e.jsxs("div",{className:"project-meta",children:[e.jsxs("span",{className:"created-date",children:["Created: ",s.createdAt.toLocaleDateString()]}),s.completedAt&&e.jsxs("span",{className:"completed-date",children:["Completed: ",s.completedAt.toLocaleDateString()]})]})]}),e.jsxs("div",{className:"project-actions",children:["completed"===s.status&&e.jsx("button",{onClick:()=>b(s),className:"action-button primary",children:"📥 Download"}),"processing"===s.status&&e.jsx("button",{className:"action-button secondary",disabled:!0,children:"⏳ Processing..."}),e.jsx("button",{onClick:()=>N(s.id),className:"action-button danger",children:"🗑️ Delete"})]})]},s.id))),0===f.length&&e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No projects found"}),e.jsx("p",{children:"Create your first video project to get started."}),e.jsx("button",{onClick:()=>p(!0),className:"create-first-project",children:"Create First Project"})]})]})]}):e.jsx("div",{className:"video-studio-access-denied",children:e.jsxs("div",{className:"access-denied-content",children:[e.jsx("h2",{children:"🎬 Video Generation Studio"}),e.jsxs("div",{className:"enterprise-required",children:[e.jsx("h3",{children:"🔒 Enterprise Tier Required"}),e.jsx("p",{children:"AI-powered video generation is exclusively available for Enterprise tier users."}),e.jsxs("div",{className:"feature-list",children:[e.jsx("h4",{children:"Enterprise Video Features:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"AI-generated corporate presentations"}),e.jsx("li",{children:"Technical documentation videos"}),e.jsx("li",{children:"Marketing content creation"}),e.jsx("li",{children:"Multi-resolution output (720p to 4K)"}),e.jsx("li",{children:"Voice-over and caption generation"}),e.jsx("li",{children:"Background music integration"}),e.jsx("li",{children:"Real-time progress tracking"})]})]}),e.jsx("button",{className:"upgrade-button",children:"Upgrade to Enterprise"})]})]})})};export{a as default};
