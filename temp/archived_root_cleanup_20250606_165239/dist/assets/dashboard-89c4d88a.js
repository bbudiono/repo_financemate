import{r as e}from"./react-vendor-29c1c3a2.js";var s={exports:{}},t={},a=e,i=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,t){var a,n={},o=null,d=null;for(a in void 0!==t&&(o=""+t),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(d=s.ref),s)r.call(s,a)&&!c.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===n[a]&&(n[a]=s[a]);return{$$typeof:i,type:e,key:o,ref:d,props:n,_owner:l.current}}t.Fragment=n,t.jsx=o,t.jsxs=o,s.exports=t;var d=s.exports;const p={free:{maxAgents:2,allowedAgentTypes:["research","technical"],optimizationLevel:"basic",videoGeneration:!1,internalCommunicationAccess:!1,workflowModification:!1,appleSiliconOptimization:!1,realTimeMetrics:!1},pro:{maxAgents:5,allowedAgentTypes:["research","technical","creative","financial","analytics"],optimizationLevel:"advanced",videoGeneration:!1,internalCommunicationAccess:!1,workflowModification:!0,appleSiliconOptimization:!0,realTimeMetrics:!0},enterprise:{maxAgents:10,allowedAgentTypes:["research","technical","creative","financial","analytics","video_generation","document_processing"],optimizationLevel:"maximum",videoGeneration:!0,internalCommunicationAccess:!0,workflowModification:!0,appleSiliconOptimization:!0,realTimeMetrics:!0}},m=Object.freeze(Object.defineProperty({__proto__:null,default:({userTier:s,activeAgents:t})=>{const[a,i]=e.useState([]),[n,r]=e.useState([]),[l,c]=e.useState(!1),[o,m]=e.useState({taskDescription:"",priorityLevel:5,selectedAgentTypes:[],maxAgents:2}),[g,h]=e.useState("all"),[u,x]=e.useState(!1),[v,j]=e.useState("connected"),y=p[s];e.useEffect((()=>{m((e=>({...e,maxAgents:y.maxAgents,selectedAgentTypes:y.allowedAgentTypes.slice(0,2)})))}),[s,y]),e.useEffect((()=>{const e=[{id:"task-1",description:"Financial report analysis and risk assessment",status:"running",progress:65,assignedAgents:["research-agent","financial-agent"],startTime:new Date(Date.now()-3e5),estimatedCompletion:new Date(Date.now()+12e4),priority:"high"},{id:"task-2",description:"Technical system optimization recommendations",status:"completed",progress:100,assignedAgents:["technical-agent","optimization-agent"],startTime:new Date(Date.now()-6e5),estimatedCompletion:new Date(Date.now()-6e4),priority:"medium"},{id:"task-3",description:"Creative marketing content generation",status:"pending",progress:0,assignedAgents:["creative-agent"],startTime:new Date,priority:"low"}];i(e.filter((e=>y.allowedAgentTypes.some((s=>e.assignedAgents.some((e=>e.includes(s))))))))}),[y]);const f=e.useCallback((async e=>{c(!0);try{const t=await fetch("http://localhost:3001/api/agents/coordinate",{method:"POST",headers:{"Content-Type":"application/json","user-tier":s,"user-id":"user-123"},body:JSON.stringify({task_description:e.taskDescription,agent_preferences:{types:e.selectedAgentTypes,maxAgents:e.maxAgents},priority_level:e.priorityLevel,user_tier:s})});if(!t.ok)throw new Error(`Coordination failed: ${t.statusText}`);const a=await t.json(),n={id:a.coordinationId||`task-${Date.now()}`,description:e.taskDescription,status:"running",progress:10,assignedAgents:a.assignedAgents?.map((e=>e.id))||e.selectedAgentTypes,startTime:new Date,estimatedCompletion:a.estimatedCompletion?new Date(a.estimatedCompletion):new Date(Date.now()+18e4),priority:e.priorityLevel>=8?"critical":e.priorityLevel>=6?"high":e.priorityLevel>=4?"medium":"low"};i((e=>[n,...e])),r((e=>[a,...e])),m({taskDescription:"",priorityLevel:5,selectedAgentTypes:y.allowedAgentTypes.slice(0,2),maxAgents:y.maxAgents}),x(!1)}catch(t){j("disconnected"),setTimeout((()=>j("connected")),3e3)}finally{c(!1)}}),[s,y]),N=e.useCallback((async e=>{i((s=>s.map((s=>s.id===e?{...s,status:"failed",progress:s.progress}:s))))}),[]),k=a.filter((e=>"all"===g||e.status===g)),A=e=>{switch(e){case"running":return"#3b82f6";case"completed":return"#10b981";case"failed":return"#ef4444";case"pending":return"#f59e0b";default:return"#6b7280"}},b=e=>{switch(e){case"critical":return"#7c3aed";case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}},T=e=>{if(!e)return"Unknown";const s=e.getTime()-Date.now();if(s<=0)return"Overdue";return`${Math.floor(s/6e4)}m ${Math.floor(s%6e4/1e3)}s`};return d.jsxs("div",{className:"agent-coordination-dashboard",children:[d.jsxs("div",{className:"dashboard-header",children:[d.jsxs("div",{className:"header-content",children:[d.jsx("h2",{children:"🤖 Agent Coordination Dashboard"}),d.jsxs("div",{className:"header-stats",children:[d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-label",children:"Active Agents:"}),d.jsx("span",{className:"stat-value",children:t.length})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-label",children:"Running Tasks:"}),d.jsx("span",{className:"stat-value",children:a.filter((e=>"running"===e.status)).length})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-label",children:"Tier:"}),d.jsx("span",{className:`stat-value tier-${s}`,children:s.toUpperCase()})]}),d.jsx("div",{className:"stat-item",children:d.jsxs("span",{className:`connection-indicator ${v}`,children:["connected"===v?"🟢":"🔴"," ",v]})})]})]}),d.jsxs("div",{className:"header-actions",children:[d.jsx("button",{className:"action-button primary",onClick:()=>x(!0),disabled:l,children:l?"⏳ Coordinating...":"➕ New Task"}),d.jsxs("select",{value:g,onChange:e=>h(e.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"All Tasks"}),d.jsx("option",{value:"running",children:"Running"}),d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"completed",children:"Completed"}),d.jsx("option",{value:"failed",children:"Failed"})]})]})]}),d.jsxs("div",{className:"agents-grid",children:[d.jsxs("h3",{children:["Available Agents (",y.maxAgents," max)"]}),d.jsx("div",{className:"agents-list",children:y.allowedAgentTypes.map((e=>{const s=t.find((s=>s.type===e)),a="active"===s?.status||"busy"===s?.status;return d.jsxs("div",{className:"agent-card "+(a?"active":"idle"),children:[d.jsxs("div",{className:"agent-info",children:[d.jsx("div",{className:"agent-icon",children:"research"===e?"🔍":"technical"===e?"⚙️":"creative"===e?"🎨":"financial"===e?"💰":"⚡"}),d.jsxs("div",{className:"agent-details",children:[d.jsxs("span",{className:"agent-name",children:[e.charAt(0).toUpperCase()+e.slice(1)," Agent"]}),d.jsx("span",{className:`agent-status ${s?.status||"idle"}`,children:s?.status||"idle"})]})]}),s?.currentTask&&d.jsxs("div",{className:"agent-current-task",children:[d.jsx("span",{className:"task-label",children:"Current:"}),d.jsxs("span",{className:"task-description",children:[s.currentTask.description?.slice(0,30),"..."]})]})]},e)}))})]}),d.jsxs("div",{className:"tasks-section",children:[d.jsxs("h3",{children:["Task Executions (",k.length,")"]}),0===k.length?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:"📋 No tasks found for the current filter."}),d.jsx("button",{className:"action-button secondary",onClick:()=>x(!0),children:"Create Your First Task"})]}):d.jsx("div",{className:"tasks-list",children:k.map((e=>d.jsxs("div",{className:`task-card ${e.status}`,children:[d.jsxs("div",{className:"task-header",children:[d.jsxs("div",{className:"task-info",children:[d.jsx("h4",{className:"task-title",children:e.description}),d.jsxs("div",{className:"task-meta",children:[d.jsx("span",{className:"task-status",style:{color:A(e.status)},children:e.status.toUpperCase()}),d.jsxs("span",{className:"task-priority",style:{color:b(e.priority)},children:[e.priority.toUpperCase()," PRIORITY"]}),d.jsxs("span",{className:"task-time",children:["Started: ",e.startTime.toLocaleTimeString()]})]})]}),d.jsxs("div",{className:"task-actions",children:["running"===e.status&&d.jsx("button",{className:"action-button danger small",onClick:()=>N(e.id),children:"❌ Cancel"}),e.estimatedCompletion&&"running"===e.status&&d.jsxs("span",{className:"time-remaining",children:["⏱️ ",T(e.estimatedCompletion)]})]})]}),d.jsxs("div",{className:"task-progress",children:[d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${e.progress}%`,backgroundColor:A(e.status)}})}),d.jsxs("span",{className:"progress-text",children:[e.progress,"%"]})]}),d.jsxs("div",{className:"task-agents",children:[d.jsx("span",{className:"agents-label",children:"Assigned Agents:"}),d.jsx("div",{className:"agents-list",children:e.assignedAgents.map((e=>d.jsx("span",{className:"agent-tag",children:e.replace("-agent","")},e)))})]})]},e.id)))})]}),u&&d.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:d.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h3",{children:"🚀 Create New Agent Coordination Task"}),d.jsx("button",{className:"close-button",onClick:()=>x(!1),children:"✕"})]}),d.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o.taskDescription.trim()&&await f(o)},className:"coordination-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"taskDescription",children:"Task Description *"}),d.jsx("textarea",{id:"taskDescription",value:o.taskDescription,onChange:e=>m((s=>({...s,taskDescription:e.target.value}))),placeholder:"Describe the task you want the agents to coordinate on...",required:!0,rows:3})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"priorityLevel",children:"Priority Level (1-10)"}),d.jsxs("div",{className:"priority-slider",children:[d.jsx("input",{type:"range",id:"priorityLevel",min:"1",max:"10",value:o.priorityLevel,onChange:e=>m((s=>({...s,priorityLevel:parseInt(e.target.value)})))}),d.jsxs("span",{className:"priority-value",children:[o.priorityLevel,"(",o.priorityLevel>=8?"Critical":o.priorityLevel>=6?"High":o.priorityLevel>=4?"Medium":"Low",")"]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:["Select Agent Types (max ",y.maxAgents,")"]}),d.jsx("div",{className:"agent-selection",children:y.allowedAgentTypes.map((e=>d.jsxs("button",{type:"button",className:"agent-toggle "+(o.selectedAgentTypes.includes(e)?"selected":""),onClick:()=>(e=>{m((s=>({...s,selectedAgentTypes:s.selectedAgentTypes.includes(e)?s.selectedAgentTypes.filter((s=>s!==e)):[...s.selectedAgentTypes,e].slice(0,s.maxAgents)})))})(e),disabled:!o.selectedAgentTypes.includes(e)&&o.selectedAgentTypes.length>=y.maxAgents,children:["research"===e?"🔍":"technical"===e?"⚙️":"creative"===e?"🎨":"financial"===e?"💰":"⚡",e.charAt(0).toUpperCase()+e.slice(1)]},e)))}),d.jsxs("small",{className:"help-text",children:["Selected: ",o.selectedAgentTypes.length,"/",y.maxAgents]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",className:"action-button secondary",onClick:()=>x(!1),children:"Cancel"}),d.jsx("button",{type:"submit",className:"action-button primary",disabled:l||!o.taskDescription.trim()||0===o.selectedAgentTypes.length,children:l?"⏳ Coordinating...":"🚀 Start Coordination"})]})]})]})}),"free"===s&&d.jsxs("div",{className:"tier-notice",children:[d.jsx("h4",{children:"🔓 Upgrade for More Power"}),d.jsx("p",{children:"Upgrade to Pro for 5 agents and Apple Silicon optimization, or Enterprise for 10 agents and video generation."}),d.jsx("button",{className:"action-button upgrade",children:"⬆️ Upgrade Now"})]})]})}},Symbol.toStringTag,{value:"Module"}));export{m as A,p as T,d as j};
