import{j as e,T as a}from"./dashboard-89c4d88a.js";import{r as i}from"./react-vendor-29c1c3a2.js";const s=({userTier:s,hardwareMetrics:l})=>{const[n,t]=i.useState({level:"basic",useNeuralEngine:!1,useGPUAcceleration:!1,cpuCoreAllocation:"auto",memoryOptimization:!1,thermalManagement:"auto"}),[c,r]=i.useState([]),[o,d]=i.useState(!1),[m,p]=i.useState([]),[u,h]=i.useState(!1),[x,j]=i.useState(n),[N,v]=i.useState("balanced"),[g,b]=i.useState(!1),[y,z]=i.useState("mixed"),[f,C]=i.useState({cpuTemp:80,cpuUtilization:90,memoryPressure:"high",neuralEngineUtilization:95}),A=a[s],k={performance:{name:"Performance",description:"Maximum performance for intensive tasks",icon:"ğŸš€",settings:{level:"maximum",useNeuralEngine:!0,useGPUAcceleration:!0,cpuCoreAllocation:"performance",memoryOptimization:!0,thermalManagement:"aggressive"}},efficiency:{name:"Efficiency",description:"Optimized for battery life and low heat",icon:"ğŸ”‹",settings:{level:"basic",useNeuralEngine:!1,useGPUAcceleration:!1,cpuCoreAllocation:"efficiency",memoryOptimization:!1,thermalManagement:"conservative"}},balanced:{name:"Balanced",description:"Balance between performance and efficiency",icon:"âš–ï¸",settings:{level:"advanced",useNeuralEngine:!0,useGPUAcceleration:!1,cpuCoreAllocation:"mixed",memoryOptimization:!0,thermalManagement:"auto"}}};i.useEffect((()=>{l&&p((e=>[...e.slice(-59),l]))}),[l]),i.useEffect((()=>{if(g&&l&&A.appleSiliconOptimization){(l.cpu.utilization>f.cpuUtilization||l.cpu.temperature>f.cpuTemp||l.memory.pressure===f.memoryPressure)&&!o&&P("auto-adjustment")}}),[l,g,f,A,o]);const O=i.useCallback((async e=>{if(!A.appleSiliconOptimization)return;const a=k[e];if(a){d(!0);try{await new Promise((e=>setTimeout(e,2e3))),t(a.settings),v(e);const i=Math.floor(30*Math.random())+15,s={timestamp:new Date,type:`${a.name} Preset`,performanceGain:i,settings:a.settings};r((e=>[...e,s]))}catch(i){}finally{d(!1)}}}),[A.appleSiliconOptimization,k]),E=i.useCallback((async()=>{if(A.appleSiliconOptimization){d(!0);try{const e=await fetch("http://localhost:3001/api/hardware/optimize",{method:"POST",headers:{"Content-Type":"application/json","user-tier":s},body:JSON.stringify({optimization_type:"custom",workload_focus:y,settings:x})});if(e.ok){const a=await e.json();t(x),v("custom");const i={timestamp:new Date,type:`Custom Optimization for ${y}`,performanceGain:a.performanceGain||Math.floor(25*Math.random())+10,settings:x};r((e=>[...e,i])),h(!1)}}catch(e){}finally{d(!1)}}}),[A,x,y,s]),P=i.useCallback((async e=>{if(A.appleSiliconOptimization&&!o){d(!0);try{let a;switch(e){case"video-generation":a={level:"maximum",useNeuralEngine:!0,useGPUAcceleration:!0,cpuCoreAllocation:"performance",memoryOptimization:!0,thermalManagement:"aggressive"};break;case"financial-processing":a={level:"advanced",useNeuralEngine:!0,useGPUAcceleration:!1,cpuCoreAllocation:"mixed",memoryOptimization:!0,thermalManagement:"auto"};break;case"agent-coordination":a={level:"advanced",useNeuralEngine:!0,useGPUAcceleration:!1,cpuCoreAllocation:"performance",memoryOptimization:!0,thermalManagement:"auto"};break;default:a=k.balanced.settings}await new Promise((e=>setTimeout(e,1500))),t(a);const i={timestamp:new Date,type:`Quick Optimization: ${e}`,performanceGain:Math.floor(20*Math.random())+15,settings:a};r((e=>[...e,i]))}catch(a){}finally{d(!1)}}}),[A,o,k]),U=i.useCallback((async()=>{const e={level:"basic",useNeuralEngine:!1,useGPUAcceleration:!1,cpuCoreAllocation:"auto",memoryOptimization:!1,thermalManagement:"auto"};t(e),j(e),v("balanced"),b(!1)}),[]),S=(e,a)=>"utilization"===a?e>80?"#ef4444":e>60?"#f59e0b":"#10b981":"temperature"===a?e>80?"#ef4444":e>70?"#f59e0b":"#10b981":"memory"===a?e>12?"#ef4444":e>8?"#f59e0b":"#10b981":"#6b7280",w=e=>{switch(e){case"normal":return"âœ…";case"warning":return"âš ï¸";case"critical":return"ğŸš¨";case"active":return"ğŸŸ¢";case"idle":return"ğŸ”µ";case"overloaded":return"ğŸ”´";default:return"â“"}},M=l&&(l.cpu.temperature>f.cpuTemp||l.cpu.utilization>f.cpuUtilization||l.memory.pressure===f.memoryPressure||l.neuralEngine.utilization>f.neuralEngineUtilization);return e.jsxs("div",{className:"apple-silicon-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"âš¡ Apple Silicon Optimization"}),e.jsxs("div",{className:"header-controls",children:[e.jsx("div",{className:"tier-status",children:e.jsx("span",{className:"optimization-badge "+(A.appleSiliconOptimization?"available":"unavailable"),children:A.appleSiliconOptimization?"OPTIMIZATION AVAILABLE":"REQUIRES PRO TIER"})}),A.appleSiliconOptimization&&e.jsx("div",{className:"auto-optimization-toggle",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:e=>b(e.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Auto-Optimize"]})})]})]}),M&&e.jsx("div",{className:"alert-banner",children:e.jsxs("div",{className:"alert-content",children:[e.jsx("span",{className:"alert-icon",children:"âš ï¸"}),e.jsxs("div",{className:"alert-text",children:[e.jsx("strong",{children:"Performance Alert:"})," System metrics exceed optimal thresholds.",g?" Auto-optimization will trigger shortly.":" Consider manual optimization."]}),!g&&e.jsx("button",{className:"alert-action-btn",onClick:()=>P("auto-adjustment"),disabled:o,children:o?"â³ Optimizing...":"ğŸš€ Optimize Now"})]})}),!A.appleSiliconOptimization&&e.jsx("div",{className:"upgrade-prompt",children:e.jsxs("div",{className:"upgrade-content",children:[e.jsx("h3",{children:"ğŸš€ Unlock Apple Silicon Optimization"}),e.jsx("p",{children:"Upgrade to Pro tier to access advanced hardware optimization features including Neural Engine utilization, GPU acceleration, and thermal management."}),e.jsx("button",{className:"upgrade-button",children:"Upgrade to Pro Tier"})]})}),A.appleSiliconOptimization&&e.jsxs("div",{className:"quick-optimization",children:[e.jsx("h3",{children:"âš¡ Quick Optimization"}),e.jsxs("div",{className:"quick-buttons",children:[e.jsxs("button",{className:"quick-btn video",onClick:()=>P("video-generation"),disabled:o||"enterprise"!==s,children:["ğŸ¬ Video Generation","enterprise"!==s&&e.jsx("span",{className:"enterprise-only",children:"Enterprise"})]}),e.jsx("button",{className:"quick-btn financial",onClick:()=>P("financial-processing"),disabled:o,children:"ğŸ’° Financial Processing"}),e.jsx("button",{className:"quick-btn coordination",onClick:()=>P("agent-coordination"),disabled:o,children:"ğŸ¤– Agent Coordination"})]})]}),A.appleSiliconOptimization&&e.jsxs("div",{className:"optimization-presets",children:[e.jsx("h3",{children:"ğŸ›ï¸ Optimization Presets"}),e.jsxs("div",{className:"presets-grid",children:[Object.entries(k).map((([a,i])=>e.jsxs("div",{className:`preset-card ${N===a?"active":""} ${o?"disabled":""}`,onClick:()=>!o&&O(a),children:[e.jsx("div",{className:"preset-icon",children:i.icon}),e.jsx("div",{className:"preset-name",children:i.name}),e.jsx("div",{className:"preset-description",children:i.description}),N===a&&e.jsx("div",{className:"preset-active-indicator",children:"Active"})]},a))),e.jsxs("div",{className:"preset-card custom "+("custom"===N?"active":""),onClick:()=>h(!0),children:[e.jsx("div",{className:"preset-icon",children:"âš™ï¸"}),e.jsx("div",{className:"preset-name",children:"Custom"}),e.jsx("div",{className:"preset-description",children:"Manual configuration"}),"custom"===N&&e.jsx("div",{className:"preset-active-indicator",children:"Active"})]})]})]}),e.jsx("div",{className:"metrics-grid",children:l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"metric-card neural-engine",children:[e.jsxs("div",{className:"metric-header",children:[e.jsx("h3",{children:"ğŸ§  Neural Engine"}),e.jsx("span",{className:"metric-status",children:w(l.neuralEngine.status)})]}),e.jsxs("div",{className:"metric-value",children:[e.jsxs("span",{className:"value",style:{color:S(l.neuralEngine.utilization,"utilization")},children:[l.neuralEngine.utilization,"%"]}),e.jsx("span",{className:"label",children:"Utilization"})]}),e.jsxs("div",{className:"metric-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Temperature:"}),e.jsxs("span",{className:"detail-value",children:[l.neuralEngine.temperature,"Â°C"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Status:"}),e.jsx("span",{className:"detail-value",children:l.neuralEngine.status})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Optimization:"}),e.jsx("span",{className:"detail-value "+(n.useNeuralEngine?"enabled":"disabled"),children:n.useNeuralEngine?"Enabled":"Disabled"})]})]}),e.jsx("div",{className:"utilization-bar",children:e.jsx("div",{className:"utilization-fill",style:{width:`${l.neuralEngine.utilization}%`,backgroundColor:S(l.neuralEngine.utilization,"utilization")}})})]}),e.jsxs("div",{className:"metric-card gpu",children:[e.jsxs("div",{className:"metric-header",children:[e.jsx("h3",{children:"ğŸ® GPU"}),e.jsx("span",{className:"metric-status",children:w(l.gpu.status)})]}),e.jsxs("div",{className:"metric-value",children:[e.jsxs("span",{className:"value",style:{color:S(l.gpu.utilization,"utilization")},children:[l.gpu.utilization,"%"]}),e.jsx("span",{className:"label",children:"Utilization"})]}),e.jsxs("div",{className:"metric-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Memory:"}),e.jsxs("span",{className:"detail-value",children:[l.gpu.memory.toFixed(1),"GB"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Status:"}),e.jsx("span",{className:"detail-value",children:l.gpu.status})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Acceleration:"}),e.jsx("span",{className:"detail-value "+(n.useGPUAcceleration?"enabled":"disabled"),children:n.useGPUAcceleration?"Enabled":"Disabled"})]})]}),e.jsx("div",{className:"utilization-bar",children:e.jsx("div",{className:"utilization-fill",style:{width:`${l.gpu.utilization}%`,backgroundColor:S(l.gpu.utilization,"utilization")}})})]}),e.jsxs("div",{className:"metric-card cpu",children:[e.jsxs("div",{className:"metric-header",children:[e.jsx("h3",{children:"ğŸ–¥ï¸ CPU"}),e.jsx("span",{className:"metric-status",children:w("active")})]}),e.jsxs("div",{className:"metric-value",children:[e.jsxs("span",{className:"value",style:{color:S(l.cpu.utilization,"utilization")},children:[l.cpu.utilization,"%"]}),e.jsx("span",{className:"label",children:"Utilization"})]}),e.jsxs("div",{className:"metric-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"P-Cores:"}),e.jsx("span",{className:"detail-value",children:l.cpu.performanceCores})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"E-Cores:"}),e.jsx("span",{className:"detail-value",children:l.cpu.efficiencyCores})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Temp:"}),e.jsxs("span",{className:"detail-value",style:{color:S(l.cpu.temperature,"temperature")},children:[l.cpu.temperature,"Â°C"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Allocation:"}),e.jsx("span",{className:"detail-value",children:n.cpuCoreAllocation})]})]}),e.jsx("div",{className:"utilization-bar",children:e.jsx("div",{className:"utilization-fill",style:{width:`${l.cpu.utilization}%`,backgroundColor:S(l.cpu.utilization,"utilization")}})})]}),e.jsxs("div",{className:"metric-card memory",children:[e.jsxs("div",{className:"metric-header",children:[e.jsx("h3",{children:"ğŸ’¾ Memory"}),e.jsx("span",{className:"metric-status",children:w(l.memory.status)})]}),e.jsxs("div",{className:"metric-value",children:[e.jsxs("span",{className:"value",style:{color:S(l.memory.used,"memory")},children:[l.memory.used.toFixed(1),"GB"]}),e.jsx("span",{className:"label",children:"Used"})]}),e.jsxs("div",{className:"metric-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Available:"}),e.jsxs("span",{className:"detail-value",children:[l.memory.available.toFixed(1),"GB"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Pressure:"}),e.jsx("span",{className:`detail-value pressure-${l.memory.pressure}`,children:l.memory.pressure})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Optimization:"}),e.jsx("span",{className:"detail-value "+(n.memoryOptimization?"enabled":"disabled"),children:n.memoryOptimization?"Enabled":"Disabled"})]})]}),e.jsx("div",{className:"utilization-bar",children:e.jsx("div",{className:"utilization-fill",style:{width:l.memory.used/(l.memory.used+l.memory.available)*100+"%",backgroundColor:S(l.memory.used,"memory")}})})]})]})}),A.appleSiliconOptimization&&e.jsxs("div",{className:"optimization-settings-card",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("h3",{children:"âš™ï¸ Current Optimization Settings"}),e.jsxs("div",{className:"settings-actions",children:[e.jsx("button",{className:"settings-btn secondary",onClick:()=>h(!0),disabled:o,children:"âœï¸ Edit"}),e.jsx("button",{className:"settings-btn danger",onClick:U,disabled:o,children:"ğŸ”„ Reset"})]})]}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"Level:"}),e.jsx("span",{className:`setting-value level-${n.level}`,children:n.level.toUpperCase()})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"Neural Engine:"}),e.jsx("span",{className:"setting-value "+(n.useNeuralEngine?"enabled":"disabled"),children:n.useNeuralEngine?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"GPU Acceleration:"}),e.jsx("span",{className:"setting-value "+(n.useGPUAcceleration?"enabled":"disabled"),children:n.useGPUAcceleration?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"CPU Allocation:"}),e.jsx("span",{className:"setting-value",children:n.cpuCoreAllocation})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"Memory Optimization:"}),e.jsx("span",{className:"setting-value "+(n.memoryOptimization?"enabled":"disabled"),children:n.memoryOptimization?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{className:"setting-label",children:"Thermal Management:"}),e.jsx("span",{className:"setting-value",children:n.thermalManagement})]})]})]}),c.length>0&&e.jsxs("div",{className:"optimization-history-card",children:[e.jsx("h3",{children:"ğŸ“Š Optimization History"}),e.jsx("div",{className:"history-list",children:c.slice(-5).reverse().map(((a,i)=>e.jsxs("div",{className:"history-item",children:[e.jsxs("div",{className:"history-header",children:[e.jsx("span",{className:"history-type",children:a.type}),e.jsxs("span",{className:"history-gain",children:["+",a.performanceGain,"%"]})]}),e.jsx("div",{className:"history-time",children:a.timestamp.toLocaleString()})]},i)))})]}),u&&e.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"âš™ï¸ Custom Optimization Settings"}),e.jsx("button",{className:"close-button",onClick:()=>h(!1),children:"âœ•"})]}),e.jsxs("div",{className:"optimization-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"ğŸ¯ Workload Type"}),e.jsx("div",{className:"workload-selection",children:["financial","video","coordination","mixed"].map((a=>e.jsxs("button",{type:"button",className:"workload-btn "+(y===a?"selected":""),onClick:()=>z(a),disabled:"video"===a&&"enterprise"!==s,children:["financial"===a?"ğŸ’°":"video"===a?"ğŸ¬":"coordination"===a?"ğŸ¤–":"ğŸ”„",a.charAt(0).toUpperCase()+a.slice(1),"video"===a&&"enterprise"!==s&&e.jsx("span",{className:"enterprise-only",children:"Enterprise"})]},a)))})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"âš¡ Optimization Level"}),e.jsx("div",{className:"level-selection",children:["basic","advanced","maximum"].map((a=>e.jsx("button",{type:"button",className:"level-btn "+(x.level===a?"selected":""),onClick:()=>j((e=>({...e,level:a}))),children:a.charAt(0).toUpperCase()+a.slice(1)},a)))})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"ğŸ”§ Hardware Settings"}),e.jsxs("div",{className:"hardware-toggles",children:[e.jsxs("label",{className:"toggle-option",children:[e.jsx("input",{type:"checkbox",checked:x.useNeuralEngine,onChange:e=>j((a=>({...a,useNeuralEngine:e.target.checked})))}),e.jsx("span",{className:"toggle-label",children:"ğŸ§  Neural Engine"})]}),e.jsxs("label",{className:"toggle-option",children:[e.jsx("input",{type:"checkbox",checked:x.useGPUAcceleration,onChange:e=>j((a=>({...a,useGPUAcceleration:e.target.checked})))}),e.jsx("span",{className:"toggle-label",children:"ğŸ® GPU Acceleration"})]}),e.jsxs("label",{className:"toggle-option",children:[e.jsx("input",{type:"checkbox",checked:x.memoryOptimization,onChange:e=>j((a=>({...a,memoryOptimization:e.target.checked})))}),e.jsx("span",{className:"toggle-label",children:"ğŸ’¾ Memory Optimization"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"ğŸ–¥ï¸ CPU Core Allocation"}),e.jsxs("select",{value:x.cpuCoreAllocation,onChange:e=>j((a=>({...a,cpuCoreAllocation:e.target.value}))),className:"cpu-allocation-select",children:[e.jsx("option",{value:"auto",children:"Auto"}),e.jsx("option",{value:"performance",children:"Performance Cores"}),e.jsx("option",{value:"efficiency",children:"Efficiency Cores"}),e.jsx("option",{value:"mixed",children:"Mixed Allocation"})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"ğŸŒ¡ï¸ Thermal Management"}),e.jsxs("select",{value:x.thermalManagement,onChange:e=>j((a=>({...a,thermalManagement:e.target.value}))),className:"thermal-management-select",children:[e.jsx("option",{value:"auto",children:"Auto"}),e.jsx("option",{value:"conservative",children:"Conservative"}),e.jsx("option",{value:"aggressive",children:"Aggressive"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"control-btn secondary",onClick:()=>h(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"control-btn primary",onClick:E,disabled:o,children:o?"â³ Applying...":"ğŸš€ Apply Optimization"})]})]})]})}),"free"===s&&e.jsxs("div",{className:"tier-notice",children:[e.jsx("h4",{children:"ğŸ”“ Upgrade for Apple Silicon Optimization"}),e.jsx("p",{children:"Upgrade to Pro for hardware optimization features, or Enterprise for video generation optimization and advanced controls."}),e.jsx("button",{className:"control-btn upgrade",children:"â¬†ï¸ Upgrade Now"})]})]})};export{s as default};
